<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title></title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown #bookdown:version# and GitBook 2.6.7" />

  <meta property="og:title" content="" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



<!--bookdown:title:start-->
<!--bookdown:title:end-->

<!--bookdown:toc:start-->
  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">
<!--bookdown:toc2:start-->
<ul>
<li><a href="#graphics-in-r"><span class="toc-section-number">1</span> Graphics in R</a><ul>
<li><a href="#scatter-plots"><span class="toc-section-number">1.1</span> Scatter Plots</a><ul>
<li><a href="#structure-of-a-typical-ggplot"><span class="toc-section-number">1.1.1</span> Structure of a Typical <code>ggplot</code></a></li>
<li><a href="#adding-lines-to-a-scatter-plot"><span class="toc-section-number">1.1.2</span> Adding lines to a scatter plot</a></li>
</ul></li>
<li><a href="#labels-axes-text-etc."><span class="toc-section-number">1.2</span> Labels, Axes, Text, etc.</a><ul>
<li><a href="#labels"><span class="toc-section-number">1.2.1</span> Labels</a></li>
</ul></li>
<li><a href="#customizing-axes"><span class="toc-section-number">1.3</span> Customizing Axes</a><ul>
<li><a href="#text-point-size-and-color"><span class="toc-section-number">1.3.1</span> Text, Point Size, and Color</a></li>
</ul></li>
<li><a href="#other-types-of-graphics"><span class="toc-section-number">1.4</span> Other Types of Graphics</a><ul>
<li><a href="#histograms"><span class="toc-section-number">1.4.1</span> Histograms</a></li>
<li><a href="#boxplots"><span class="toc-section-number">1.4.2</span> Boxplots</a></li>
<li><a href="#bar-graphs"><span class="toc-section-number">1.4.3</span> Bar Graphs</a></li>
<li><a href="#graphs-of-functions"><span class="toc-section-number">1.4.4</span> Graphs of Functions</a></li>
</ul></li>
<li><a href="#themes"><span class="toc-section-number">1.5</span> Themes</a></li>
<li><a href="#more-resources"><span class="toc-section-number">1.6</span> More Resources</a></li>
<li><a href="#practice-exercises"><span class="toc-section-number">1.7</span> Practice Exercises</a></li>
<li><a href="#homework"><span class="toc-section-number">1.8</span> Homework</a></li>
</ul></li>
</ul>
<!--bookdown:toc2:end-->
      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:toc:end-->
<!--bookdown:body:start-->
<div id="graphics-in-r" class="section level1">
<h1><span class="header-section-number">1</span> Graphics in R</h1>
<p>R can be used to create a vast array of graphical representations of data. Creating “standard” graphical displays is straightforward, but a main strength of R is the ability to customize graphical displays to create either non-standard graphics or to modify more standard graphical displays to create publication-ready versions.</p>
<p>There are several packages available in R for creating graphics. The two leading packages are the <code>graphics</code> package, which comes with your base installation of R, and the <code>ggplot2</code> package, which must be installed and made available by the user.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> Knowing how to use both the <code>graphics</code> and <code>ggplot2</code> packages is worthwhile. For beginners <code>ggplot2</code> has somewhat simpler syntax, and also produces excellent graphics without much tinkering, so the focus in this book will be on <code>ggplot2</code>.</p>
<p>The <code>gg</code> in <code>ggplot2</code> stands for <em>Grammar of Graphics</em>. The package provides a unified and logical way to describe graphical displays such as scatter plots, histograms, bar charts, and many other types of graphics. The grammar describes the mapping from data to the graphical display’s aesthetic attributes (color, shape, size) of geometric objects (points, lines, bars). As will become obvious, once this grammar is mastered for a particular type of plot, such as a scatter plot, it is easy to transfer this knowledge to other types of graphics.</p>
<p>Once you work through this chapter, the best place to learn more about <code>ggplot2</code> is from the package’s official book <span class="citation">@WickhamGgplot2Book</span> by Hadley Wickham. It is available on-line in digital format from MSU’s library. The book goes into much more depth on the theory underlying the grammar and syntax, and has many examples on solving practical graphical problems. In addition to the free on-line version available through MSU, the book’s source code is available at <a href="https://github.com/hadley/ggplot2-book" class="uri">https://github.com/hadley/ggplot2-book</a>.</p>
<p>Another useful resource is the <code>ggplot2</code> extensions guide <code>http://www.ggplot2-exts.org</code>. This site lists packages that extend <code>ggplot2</code>. It’s a good place to start if you’re trying to do something that seems hard with <code>ggplot2</code>. We’ll explore a few of these extension packages toward the end of this chapter.</p>
<div id="scatter-plots" class="section level2">
<h2><span class="header-section-number">1.1</span> Scatter Plots</h2>
<p>Scatter plots are a workhorse of data visualization and provide a good entry point to the <code>ggplot2</code> system. Begin by considering a simple and classic data set sometimes called <em>Fisher’s Iris Data</em>. These data are available in R.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(iris)
<span class="kw">str</span>(iris)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>The data contain measurements on petal and sepal length and width for 150 iris plants. The plants are from one of three species, and the species information is also included in the data frame. The data are commonly used to test classification methods, where the goal would be to correctly determine the species based on the four length and width measurements. To get a preliminary sense of how this might work, we can draw some scatter plots of length versus width. Recall that <code>ggplot2</code> is not available by default, so we first have to download and install the package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>)</code></pre></div>
<p>Once this is done the package is installed on the local hard drive, and we can use the <code>library</code> function to make the package available during the current R session.</p>
<p>Next a basic scatter plot is drawn. We’ll keep the focus on sepal length and width, but of course similar plots could be drawn using petal length and width. The prompt is not displayed below, since the continuation prompt <code>+</code> can cause confusion.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>In this case the first argument to the <code>ggplot</code> function is the name of the data frame. Second, the <code>aes</code> (short for aesthetics) function specifies the mapping to the <code>x</code> and <code>y</code> axes. By itself the <code>ggplot</code> function as written doesn’t tell R what sort of graphical display is desired. That is done by adding a <code>geom</code> (short for geometry) specification, in this case <code>geom_point</code>.</p>
<p>Looking at the scatter plot and thinking about the focus of finding a method to classify the species, two thoughts come to mind. First, the plot might be improved by increasing the size of the points. And second, using different colors for the points corresponding to the three species would help.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">4</span>, <span class="kw">aes</span>(<span class="dt">color=</span>Species))</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Notice that a legend showing what the colors represent is automatically generated and included in the graphic. Next, the size of the points seems a bit big now, and it might be helpful to use different shapes for the different species.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">3</span>, <span class="kw">aes</span>(<span class="dt">color=</span>Species, <span class="dt">shape=</span>Species))</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Here we see that the legend automatically changes to include species specific color and shape. The size of the points seems more appropriate.</p>
<div id="structure-of-a-typical-ggplot" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Structure of a Typical <code>ggplot</code></h3>
<p>The examples above start with the function <code>ggplot()</code>, which takes as arguments the data frame containing the data to be plotted as well as a mapping from the data to the axes, enclosed by the <code>aes()</code> function. Next a <code>geom</code> function, in the above case <code>geom_point()</code>, is added. It might just specify the geometry, but also might specify aspects such as size, color, or shape.</p>
<p>Typically many graphics are created and discarded in the search for an informative graphic, and often the initial specification of data and basic aesthetics from <code>ggplot()</code> stays the same in all the attempts. In such a case it can be helpful to assign that portion of the graphic to an R object, both to minimize the amount of typing and to keep certain aspects of all the graphics constant. Here’s how that could be done for the graphics above.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris.p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width)) 
iris.p <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris.p <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">3</span>, <span class="kw">aes</span>(<span class="dt">color=</span>Species, <span class="dt">shape=</span>Species))</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-6-2.png" width="672" /></p>
</div>
<div id="adding-lines-to-a-scatter-plot" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Adding lines to a scatter plot</h3>
<p>To add a fitted least squares line to a scatter plot, use <code>stat_smooth</code>, which adds a smoother (possibly a least squares line, possibly a smooth curve fit to the data, etc.). The argument <code>method = lm</code> specifies a line fitted by least squares, and the argument <code>se = FALSE</code> suppresses the default display of a confidence band around the line or curve which was fit to the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">3</span>, <span class="kw">aes</span>(<span class="dt">color=</span>Species))</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">3</span>, <span class="kw">aes</span>(<span class="dt">color=</span>Species)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">stat_smooth</span>(<span class="dt">method =</span> lm, <span class="dt">se=</span><span class="ot">FALSE</span>)</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-7-2.png" width="672" /></p>
<p>For the iris data, it probably makes more sense to fit separate lines by species. This can be specified using the <code>aes()</code> function inside <code>stat_smooth()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">3</span>, <span class="kw">aes</span>(<span class="dt">color=</span>Species)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">stat_smooth</span>(<span class="dt">method =</span> lm, <span class="dt">se=</span><span class="ot">FALSE</span>, <span class="kw">aes</span>(<span class="dt">color=</span>Species))</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>In this case we specified the same color aesthetic for the points and the lines. If we know we want this color aesthetic (colors corresponding to species) for all aspects of the graphic, we can specify it in the main <code>ggplot()</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width, <span class="dt">color =</span> Species)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span><span class="kw">stat_smooth</span>(<span class="dt">method =</span> lm, <span class="dt">se=</span><span class="ot">FALSE</span>)</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>Another common use of line segments in a graphic is to connect the points in order, accomplished via the <code>geom_line()</code> function. Although it is not clear why this helps in understanding the iris data, the technique is illustrated next, first doing this for all the points in the graphic, and second doing this separately for the three species.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">4</span>, <span class="kw">aes</span>(<span class="dt">color=</span>Species, <span class="dt">shape =</span> Species)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_line</span>()</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">4</span>, <span class="kw">aes</span>(<span class="dt">color=</span>Species)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">color=</span>Species))</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
</div>
<div id="labels-axes-text-etc." class="section level2">
<h2><span class="header-section-number">1.2</span> Labels, Axes, Text, etc.</h2>
<p>The default settings of <code>ggplot2</code> often produce excellent graphics, but once a graphic is chosen for dissemination, the user will likely want to customize things like the title, axes, etc. In this section some tools for customization are presented. Most will be illustrated in the context of a data set on crime rates in the 50 states in the United States. These data were made available by Nathan Yau at <a href="http://flowingdata.com/2010/11/23/how-to-make-bubble-charts/" class="uri">http://flowingdata.com/2010/11/23/how-to-make-bubble-charts/</a>. The data include crime rates per 100,000 people for various crimes such as murder and robbery, and also include each state’s population. The crime rates are from the year 2005, while the population numbers are from the year 2008, but the difference in population between the years is not great, and the exact population is not particularly important for what we’ll do below.</p>
<p>First, read in the data, examine its structure, and produce a simple scatter plot of motor vehicle theft versus burglary.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">u.crime &lt;-<span class="st"> &quot;http://blue.for.msu.edu/FOR875/data/crimeRatesByState2005.csv&quot;</span>
crime &lt;-<span class="st"> </span><span class="kw">read.csv</span>(u.crime, <span class="dt">header=</span><span class="ot">TRUE</span>)
<span class="kw">str</span>(crime)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    50 obs. of  9 variables:
##  $ state              : Factor w/ 50 levels &quot;Alabama &quot;,&quot;Alaska &quot;,..: 1 2 3 4 5 6 7 8 9 10 ...
##  $ murder             : num  8.2 4.8 7.5 6.7 6.9 3.7 2.9 4.4 5 6.2 ...
##  $ Forcible_rate      : num  34.3 81.1 33.8 42.9 26 43.4 20 44.7 37.1 23.6 ...
##  $ Robbery            : num  141.4 80.9 144.4 91.1 176.1 ...
##  $ aggravated_assult  : num  248 465 327 387 317 ...
##  $ burglary           : num  954 622 948 1085 693 ...
##  $ larceny_theft      : num  2650 2599 2965 2711 1916 ...
##  $ motor_vehicle_theft: num  288 391 924 262 713 ...
##  $ population         : int  4627851 686293 6500180 2855390 36756666 4861515 3501252 873092 18328340 9685744 ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(data &lt;-<span class="st"> </span>crime, <span class="kw">aes</span>(<span class="dt">x =</span> burglary, <span class="dt">y =</span> motor_vehicle_theft)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<div id="labels" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Labels</h3>
<p>By default axis and legend labels are the names of the relevant columns in the data frame. While convenient, we often want to customize these labels. Here we use <code>labs()</code> to change the x and y axis labels and other descriptive text.<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> crime, <span class="kw">aes</span>(<span class="dt">x =</span> burglary, <span class="dt">y =</span> motor_vehicle_theft)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Burglaries per 100,000 population&quot;</span>, 
         <span class="dt">y =</span> <span class="st">&quot;Motor vehicle theft per 100,000 population&quot;</span>,
         <span class="dt">title =</span> <span class="st">&quot;Burglaries vs motor vehicle theft for US states&quot;</span>,
         <span class="dt">subtitle =</span> <span class="st">&quot;2005 crime rates and 2008 population&quot;</span>,
         <span class="dt">caption =</span> <span class="st">&quot;Data from Nathan Yau http://flowingdata.com&quot;</span>
         )</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
</div>
<div id="customizing-axes" class="section level2">
<h2><span class="header-section-number">1.3</span> Customizing Axes</h2>
<p><code>ggplot</code> also provides default axis extents (i.e., limits) and other axis features. These, and other axis features such as tick marks, labels, and transformations, can be changed using the scale functions. Here the range of the x and y axis is altered to start at zero and go to the maximum of the x and y variables.<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a> Here too, axis labels are specified within the scale function, which is an alterative to using the <code>labs()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> crime, <span class="kw">aes</span>(<span class="dt">x =</span> burglary, <span class="dt">y =</span> motor_vehicle_theft)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">scale_x_continuous</span>(<span class="dt">name=</span><span class="st">&quot;Burglaries per 100,000 population&quot;</span>, 
                       <span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="kw">max</span>(crime<span class="op">$</span>burglary))) <span class="op">+</span>
<span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">name=</span><span class="st">&quot;Motor vehicle theft per 100,000 population&quot;</span>, 
                       <span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">max</span>(crime<span class="op">$</span>motor_vehicle_theft)))</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<div id="text-point-size-and-color" class="section level3">
<h3><span class="header-section-number">1.3.1</span> Text, Point Size, and Color</h3>
<p>Next we make point size proportional to population, change the color, and add a state label. Note, in the <code>ggplot()</code> call I scaled <code>population</code> by 100,000 to help with the interpretability of the legend. Accordingly, I also changed the “population” label on the legend to “Population\n(100,000)” using the <code>labs()</code> function<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a>. We use the <code>geom_label()</code> function to add the label, which provides an outline around the label text and allows you to control the box characteristics, e.g., I make the boxes slightly transparent using the <code>alpha</code> argument.<a href="#fn5" class="footnoteRef" id="fnref5"><sup>5</sup></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> crime, <span class="kw">aes</span>(<span class="dt">x =</span> burglary, <span class="dt">y =</span> motor_vehicle_theft, 
           <span class="dt">size=</span>population<span class="op">/</span><span class="dv">100000</span>)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_label</span>(<span class="kw">aes</span>(<span class="dt">label =</span> state), <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">scale_x_continuous</span>(<span class="dt">name=</span><span class="st">&quot;Burglaries per 100,000 population&quot;</span>, 
                       <span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="kw">max</span>(crime<span class="op">$</span>burglary))) <span class="op">+</span>
<span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">name=</span><span class="st">&quot;Motor vehicle theft per 100,000 population&quot;</span>, 
                       <span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">max</span>(crime<span class="op">$</span>motor_vehicle_theft))) <span class="op">+</span>
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">size=</span><span class="st">&quot;Population</span><span class="ch">\n</span><span class="st">(100,000)&quot;</span>)</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>The labels are helpful but just too cluttered. There are some additional arguments that can go into <code>geom_label()</code> that allow for label offset; however, this won’t help us much here. Instead, we can try the <code>ggrepel</code> package by Kamil Slowikowski. This useful package will automatically adjust labels so that they don’t overlap. First we need to download and add the package using either RStudio’s install package buttons or via <code>install.packages(&quot;ggrepel&quot;)</code>. Next to make all of <code>ggrepel</code>’s functions available we can call <code>library(ggrepel)</code> function or, if we know which function we want, we can load only that particular function using the <code>::</code> operators. I use <code>::</code> below to make clear which function is coming from <code>ggrepel</code> and which is coming from <code>ggplot2</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> crime, <span class="kw">aes</span>(<span class="dt">x =</span> burglary, <span class="dt">y =</span> motor_vehicle_theft, 
           <span class="dt">size=</span>population<span class="op">/</span><span class="dv">100000</span>)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">scale_x_continuous</span>(<span class="dt">name=</span><span class="st">&quot;Burglaries per 100,000 population&quot;</span>, 
                       <span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="kw">max</span>(crime<span class="op">$</span>burglary))) <span class="op">+</span>
<span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">name=</span><span class="st">&quot;Motor vehicle theft per 100,000 population&quot;</span>, 
                       <span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">max</span>(crime<span class="op">$</span>motor_vehicle_theft))) <span class="op">+</span>
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">size=</span><span class="st">&quot;Population</span><span class="ch">\n</span><span class="st">(100,000)&quot;</span>) <span class="op">+</span>
<span class="st">    </span>ggrepel<span class="op">::</span><span class="kw">geom_label_repel</span>(<span class="kw">aes</span>(<span class="dt">label =</span> state), <span class="dt">alpha =</span> <span class="fl">0.5</span>)</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>This looks a bit better. We’ll resist making additional improvements to the figure for now.</p>
</div>
</div>
<div id="other-types-of-graphics" class="section level2">
<h2><span class="header-section-number">1.4</span> Other Types of Graphics</h2>
<p>Scatter and line plots, which have just been presented, are common but certainly not the only graphical displays in common use. Histograms, boxplots, and bar graphs, as well as more “mathematical” displays such as the graph of a function, are commonly used to represent data. Examples of each are presented below.</p>
<div id="histograms" class="section level3">
<h3><span class="header-section-number">1.4.1</span> Histograms</h3>
<p>Simon Newcomb conducted several experiments to estimate the speed of light by measuring the time it took for light to travel from his laboratory to a mirror at the base of the Washington Monument, and then back to his lab. This is a distance of <span class="math inline">\(7.44373\)</span> km, and by dividing this distance by the measured time, an estimate for the speed of light is obtained.</p>
<p>The times are of course quite small, and to avoid working with very small numbers, the data are recoded to be the deviation from <span class="math inline">\(24800\)</span> nanoseconds. For example an observation coded as <span class="math inline">\(28\)</span> represents a time of <span class="math inline">\(24828\)</span> nanoseconds, while an observation coded as <span class="math inline">\(-44\)</span> represents a time of <span class="math inline">\(24756\)</span> nanoseconds.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">u.newcomb &lt;-<span class="st"> &quot;http://blue.for.msu.edu/FOR875/data/Newcomb.csv&quot;</span>
Newcomb &lt;-<span class="st"> </span><span class="kw">read.csv</span>(u.newcomb, <span class="dt">header=</span><span class="ot">TRUE</span>)
<span class="kw">head</span>(Newcomb)</code></pre></div>
<pre><code>##   Time
## 1   28
## 2   26
## 3   33
## 4   24
## 5   34
## 6  -44</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(Newcomb, <span class="kw">aes</span>(<span class="dt">x =</span> Time)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>()</code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>The software has an algorithm to calculate bin widths for the histogram. Sometimes the algorithm makes choices that aren’t suitable (hence the R message above), and these can be changed by specifying a <code>binwidth</code>. In addition, the appearance of the bars also can be changed.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(Newcomb, <span class="kw">aes</span>(<span class="dt">x =</span> Time)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">5</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;blue&quot;</span> )</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
<div id="boxplots" class="section level3">
<h3><span class="header-section-number">1.4.2</span> Boxplots</h3>
<p>Next we consider some data from the gap minder data set to construct some box plots. These data are available in the <code>gapminder</code> package, which might need to be installed via <code>install.packages(&quot;gapminder&quot;)</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(gapminder)
<span class="kw">ggplot</span>(<span class="dt">data =</span> <span class="kw">subset</span>(gapminder,  year <span class="op">==</span><span class="st"> </span><span class="dv">2002</span>), 
       <span class="kw">aes</span>(<span class="dt">x =</span> continent, <span class="dt">y =</span> gdpPercap)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="dt">color =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;lightblue&quot;</span>)</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>Here’s the same set of boxplots, but with different colors, different axis labels, and the boxes plotted horizontally rather than vertically.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> <span class="kw">subset</span>(gapminder,  year <span class="op">==</span><span class="st"> </span><span class="dv">2002</span>), 
       <span class="kw">aes</span>(<span class="dt">x =</span> continent, <span class="dt">y =</span> gdpPercap)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="dt">color =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;lightblue&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">scale_x_discrete</span>(<span class="dt">name =</span> <span class="st">&quot;Continent&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Per Capita GDP&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_flip</span>()</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
</div>
<div id="bar-graphs" class="section level3">
<h3><span class="header-section-number">1.4.3</span> Bar Graphs</h3>
<p>As part of a study, elementary school students were asked which was more important to them: good grades, popularity, or athletic ability. Here is a brief look at the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">u.goals &lt;-<span class="st"> &quot;http://blue.for.msu.edu/FOR875/data/StudentGoals.csv&quot;</span>
StudentGoals &lt;-<span class="st"> </span><span class="kw">read.csv</span>(u.goals, <span class="dt">header=</span><span class="ot">TRUE</span>)
<span class="kw">head</span>(StudentGoals)</code></pre></div>
<pre><code>##   Gender Grade Age  Race  Type School   Goals Grades Sports Looks Money
## 1    boy     5  11 White Rural    Elm  Sports      1      2     4     3
## 2    boy     5  10 White Rural    Elm Popular      2      1     4     3
## 3   girl     5  11 White Rural    Elm Popular      4      3     1     2
## 4   girl     5  11 White Rural    Elm Popular      2      3     4     1
## 5   girl     5  10 White Rural    Elm Popular      4      2     1     3
## 6   girl     5  11 White Rural    Elm Popular      4      2     1     3</code></pre>
<p>First, a simple bar graph of the most important goal chosen is drawn, followed by a stacked bar graph which also includes the student’s gender. We then add a side by side bar graph that includes the student’s gender.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(StudentGoals, <span class="kw">aes</span>(<span class="dt">x =</span> Goals)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>()</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(StudentGoals, <span class="kw">aes</span>(<span class="dt">x =</span> Goals, <span class="dt">fill =</span> Gender)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>()</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-23-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(StudentGoals, <span class="kw">aes</span>(<span class="dt">x =</span> Goals, <span class="dt">fill =</span> Gender)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_bar</span>(<span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>)</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-23-3.png" width="672" /></p>
<p>In this example R counted the number of students who had each goal and used these counts as the height of the bars. Sometimes the data contain the bar heights as a variable. For example, we create a bar graph of India’s per capita GDP with separate bars for each year in the data<a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="kw">subset</span>(gapminder, country <span class="op">==</span><span class="st"> &quot;India&quot;</span>), <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> gdpPercap)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;steelblue2&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">ggtitle</span>(<span class="st">&quot;India&#39;s per-capita GDP&quot;</span>)</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
</div>
<div id="graphs-of-functions" class="section level3">
<h3><span class="header-section-number">1.4.4</span> Graphs of Functions</h3>
<p>One way to create a plot of a mathematical function <span class="math inline">\(f\)</span> is to create a data frame with <span class="math inline">\(x\)</span> values in one column and <span class="math inline">\(f(x)\)</span> values in another column, and then draw a line plot.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span>pi, pi, <span class="dt">len =</span> <span class="dv">1000</span>)
sin.data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> <span class="kw">sin</span>(x))
<span class="kw">ggplot</span>(<span class="dt">data =</span> sin.data, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;sin(x)&quot;</span>)</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<p>This method works well, but with a better understanding of functions in R we will be able to plot mathematical functions in a simpler and more natural way.</p>
</div>
</div>
<div id="themes" class="section level2">
<h2><span class="header-section-number">1.5</span> Themes</h2>
<p>The theme defines non-data aspects of the plot’s characteristics such as background color, axes, and grid lines. Default themes include: <code>theme_bw()</code>, <code>theme_classic()</code>, <code>theme_dark()</code>, <code>theme_gray()</code>, <code>theme_light()</code>, <code>theme_linedraw()</code>, <code>theme_minimal()</code>, and <code>theme_void()</code>. Changing the theme is as easy as adding it to your initial <code>ggplot()</code> call. Here I replace the default implicit <code>theme_bw()</code> theme with the classic theme.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> sin.data, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;sin(x)&quot;</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">theme_classic</span>()</code></pre></div>
<p><img src="05-graphics_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<p>The <code>ggthemes</code> add-on package [<a href="https://github.com/jrnold/ggthemes" class="uri">https://github.com/jrnold/ggthemes</a>] by Jeffrey Arnold provides a large selection of themes beyond the eight themes that come with <code>ggplot2</code>.</p>

<p>We often want to export our graphics to use in an external document or share with colleagues. There are several ways to save graphics in a variety of file formats. The  function will allow you to save your most recent  to a variety of vector (e.g., <code>eps'',</code>ps’‘, <code>pdf'',</code>svg’‘) or raster (e.g., <code>jpeg'',</code>tiff’‘, <code>png'',</code>bmp’‘, <code>wmf'') formats\footnote{Vector files comprise lines and curves known as paths, whereas raster files are comprised of pixels. Vector images are often preferred for publication quality graphics because they can be edited, scale well, and provide crisper detail.}. The subsequent call to \verb+ggsave()+ saves the \verb+sin.data+ plot to a pdf file called</code>sin-plot.pdf’’. &lt;<prompt = FALSE, tidy=FALSE, eval=FALSE>&gt;= ggplot(filename = “sin-plot.pdf”, device=“pdf”) @ The  function takes additional arguments to control scale, measurement units, and raster plot resolution, i.e., dots per inch (dpi).</p>
</div>
<div id="more-resources" class="section level2">
<h2><span class="header-section-number">1.6</span> More Resources</h2>
<p>In summary, <code>ggplot2</code> provides a fairly intuitive<a href="#fn7" class="footnoteRef" id="fnref7"><sup>7</sup></a> framework for developing an enormous variety of graphics. In addition to the resources mentioned at the beginning of this chapter, there are numerous online <code>ggplot2</code> resources and galleries to get ideas for creating beautiful graphics to convey the stories in your data. See, for example,</p>
<ul>
<li><a href="http://docs.ggplot2.org" class="uri">http://docs.ggplot2.org</a></li>
<li><a href="http://www.r-graph-gallery.com/portfolio/ggplot2-package" class="uri">http://www.r-graph-gallery.com/portfolio/ggplot2-package</a></li>
<li><a href="http://www.ggplot2-exts.org/gallery" class="uri">http://www.ggplot2-exts.org/gallery</a></li>
<li><a href="http://www.cookbook-r.com/Graphs" class="uri">http://www.cookbook-r.com/Graphs</a></li>
<li>and of course www.google.com</li>
</ul>
<p>While the built-in <code>ggplot2</code> package documentation (accessible via the help tab in RStudio) is helpful, the official online documentation at <a href="http://docs.ggplot2.org" class="uri">http://docs.ggplot2.org</a> is particularly useful because it provides example plots and easy navigation between related topics. The large number number of functions and syntax in <code>ggplot2</code> can be daunting. RStudio provides some handy cheatsheets to help you along www.rstudio.com/resources/cheatsheets or direct link www.rstudio.com/wp-content/uploads/2016/11/ggplot2-cheatsheet-2.1.pdf.</p>
<p><code>ggplot2</code> also has an active mailing list at <a href="http://groups.google.com/group/ggplot2" class="uri">http://groups.google.com/group/ggplot2</a>. The list is an excellent resource for users at all stages of experience. Another useful resource is stackoverflow, <a href="http://stackoverflow.com" class="uri">http://stackoverflow.com</a>. There is an active <code>ggplot2</code> community on stackoverflow, and many common questions have already been asked and answered. When posting questions on any programming mailing list, it is best to provide a minimal reproducible example of your issue. The <code>reprex</code> <a href="https://github.com/jennybc/reprex" class="uri">https://github.com/jennybc/reprex</a> package by Jenny Bryan provides a convenient way to do this, and also includes advice on creating a good example. The more information you provide about your issue, the more likely the community is to help you.</p>
</div>
<div id="practice-exercises" class="section level2">
<h2><span class="header-section-number">1.7</span> Practice Exercises</h2>
</div>
<div id="homework" class="section level2">
<h2><span class="header-section-number">1.8</span> Homework</h2>
<p><strong>Exercise 6</strong> Learning objectives: practice using <code>ggplot2</code> functions; summarize variables using graphics; introduce <code>ggplot2</code> facets.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Other graphics packages include <code>lattice</code> and <code>grid</code><a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>Axis and legend labels can also be set in the individual scales, see the subsequent sections.<a href="#fnref2">↩</a></p></li>
<li id="fn3"><p><code>ggplot2</code> makes the axes extend slightly beyond the given range, since typically this is what the user wants.<a href="#fnref3">↩</a></p></li>
<li id="fn4"><p>The \n is the line break and puts “(100,000)” below “Population”.<a href="#fnref4">↩</a></p></li>
<li id="fn5"><p>You can also add labels via <code>geom_text()</code> function or a <code>label</code> argument in the <code>ggplot()</code> call.<a href="#fnref5">↩</a></p></li>
<li id="fn6"><p>R offers a large color palette, run <code>colors()</code> on the console to see a list of color names.<a href="#fnref6">↩</a></p></li>
<li id="fn7"><p>Like everything else in this book, it takes practice to get used to the syntax.<a href="#fnref7">↩</a></p></li>
</ol>
</div>
<!--bookdown:body:end-->
            </section>

          </div>
        </div>
      </div>
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
    </div>
  </div>
<!--bookdown:config-->

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
